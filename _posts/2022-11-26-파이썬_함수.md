---
layout: post
title: "파이썬 함수
categories: 공부
date: 2022-11-26 23:19:00+0900
tags: [파이썬, 함수, 공부, 정리]
---

# 함수
함수라고 하면 처음 떠오르는건 우리가 수학시간에 배운 그래프가 제일 먼저 떠오를 것이다.  
하지만 우리가 파이썬에서 배울 함수는 입력값에 따란 출력 값이 변하는 그런 함수이다.  
y = 3x + 1 이러한 식도 함수인데  x(입력값)값에 따라 y(출력값)이 변하는 함수이다.  
함수를 믹서기에 비유를 하자면 넣는 물체들을 입력값 갈려서 나오는 것을 출력값 이라고 생각하면  
조금 이해가 될 것이다.

## 함수를 사용하는 이유?
함수는 프로그래밍을 할때 중요한 역활을 한다.  
똑같은 내용을 반복해서 적고 있는 경우 이걸 묶어서 함수로 만들어 주면 더욱 보기 편하고 
프로그램의 흐름을 잘 파악할 수 있기 때문에 함수를 사용한다.

## 파이썬 함수의 구조

```
def 함수명(매개변수):
    <수행할 문장1>
    <수행할 문장2>
    ...
```

이러한 구조로 먼저 예약어인 def 앞에 사용하고 뒤에 함수명을 임의로 만들고 함수명 뒤에 괄호안에  
매개변수(함수에 입력으로 전달되는 값을 받는 변수) 를 넣어주고 밑에 수행할 문장들을 입력하면 된다.

간단한 함수를 한번 만들어 보자.

```
def add(a, b):
    return a + b
```

말로 풀이를 해보자면 함수명은 add 이고 매개 변수는 a와 b 두개의 값을 받으며 출력값은 2개의 입력값을 더한 값이다.

여기서 쓰인 return은 함수의 결괏값을 돌려주는 명령어이다.

그럼 위에 함수 사용해 보자.

```
def add(a, b):
    return a + b
    
a = 2
b = 3
c = add(a, b)
print(c)
5
```

이러한 방식으로 a값에 2를 대입하고 b에는 3을 대입해 변수 c는 add함수의 리턴값을 대입하여 즉(a + b)값인 5가 되어 출력 된다.

## 매개변수와 인수

매개변수와 인수는 혼용되서 사용되서 헷갈리는 용어이다. 

```
dfe add(a, b): # a, b는 매개변수
    return a + b

print(add(2, 3)) # 2, 3은 인수
```

이렇게 매개 변수는 함수에 전달된 값을 저장하는 변수이고 인수는 함수에 전달하는 값이다.


## 입렵값과 리턴값에 따른 함수 형태

보통 함수는 입력값을 받아 함수를 거쳐 리턴값을 돌려주는 형식이다.  
함수의 형탸는 입력값과 리턴값의 따라 4가지 유형으로 나누어진다.

### 일반적인 함수
입력값과 리턴값이 있는 함수  

```
def 함수이름(매개변수):
    <수행할 문장>
    ...
    return 리턴값
```

이러한 형식이 일반적으로 많이 쓰일 형태이다.

그러면 예시를 만듫어 보자.

```
def add(a, b):
    result = a + b
    return result

a = add(2, 3)
print(a)
5
```

이렇게 add 함수가 2개의 입력값을 받아서 서로 더한값을 리턴하는 형식으로
2와 3의 입력값을 넣고 두개 더해서 5의 리턴값을 받는 형식이다.

사용법을 정리하자면   
리턴값을 받을 변수 = 함수이름(인수1, 인수2)  
이렇게 된다.

### 입력값이 없는 함수
이번엔 입력값이 없는 함수를 만들어 보자

```
def say():
    return 'Hello'

a = say()
print(a)
Hello
```

이렇게 매개변수가 들어가는 자리에 아무것도 넣지 않는 형태로 입력값은 없지만 리턴값으로  
Hello 라는 문자열을 리턴한다. a = say() 처럼 작성하면 a에 Hello 라는 문자열이 대입 된다.

사용법을 정리하면  
리턴값을 받을 변수 = 함수이름()  
이렇게 사용이 된다.

### 리턴값이 없는 함수
입력값이 없는 함수가 있듯 리턴값이 없는 함수도 있다.

```
def add(a, b):
    print("%d, %d의 합은 %d압니다." %  (a, b, a+b)
    
add(2, 3)
2, 3의 합은 5입니다. 
```

리턴 값이 존재 하지 않는 함수는 호출해도 리턴되는 값이 없기에  
함수이름(인수1, 인수2)  
이런 방식으로 사용한다.

여기서 의문점은 밑에 2, 3의 합은 5입니다 라고 출력을 했는데 왜 리턴값이 없는지 의문이 들 수 있다.  

중간에 들어간 ``` print("%d, %d의 합은 %d압니다." %  (a, b, a+b)``` 은 함수 구성 요소중 하나인  
수행할 문장에 해당하는 부분이다.  
리턴 값은 오직 return 명령어로만 돌려받을 수 있다.  
진짜로 리턴값이 존재하지 않는지 한번 확인 해보자

```
a = add(2, 3)
2, 3의 합은 5입니다.
print(a)
None
```

a 값이 None이 되는걸 알 수 있다. None은 거짓을 나타내는 자료형이라고 이야기 한적이 있다.  
이렇게 함수에 리턴값이 없다면 None을 출력 한다.

### 입력값도 리턴값도 없는 함수
한개씩 없는 함수가 있다면 이번에 두개다 없는 함수도 보자.

```
def say():
    print('Hello')

say()
Hello

```

입력값도 리턴값도 없는 함수는 사용하는 방법은
say() 를 입력해 Hello라는 값을 받는 방법 뿐이다.

## 매개변수 지정하여 호출하기

```
def sub(a, b):
    return a - b
    
result =  sub(a = 2, b = 3)
print(result)
-1
result = sub(b = 1, a = 10)
print(result)
9
```

함수를 매개변수를 지정하여 호출 할 수 있다.

이런식으로 a에 들어갈 숫자화 b에 들어갈 숫자를 변수로 직접 지정하여
넣으면 순서에 상관 없이 사용 할 수 있다.

## 입력값이 몇 개가 될지 모를 때
이전에는 입력값이 정해져 있게 만들었다 하지만 만약 입력값이 몇개인지 모른다면?  
입력값이 몇개인지 모르는 상태로 입력값을 모두 더하는 함수를 만들어보자.

```
def 함수이름(*매개변수): 
    <수행할 문장>
    ...
```
이러한 식으로 매개변수 앞에 *표시를 붙여서 만들면 가능하다.

예제를 만들어서 한번 보도록 하자.

```
def all_add(*number)
    result = 0
    for i in number:
        result += i
    retun result
```
이렇게 number 앞에 *를 붙여주면 입력값을 전부 모아서 튜플로 만들어주게 된다.  
그럼 위에 함수를 사용해 보자.

```
result = all_add(1, 3, 5)
print(result)
9

result = all_add(1, 3, 5, 7, 9, 11, 13, 15)
print(result)
64
```

이렇게 넣으면 함수가 사용되어 값을 출력해 준다.

그리고 매개변수를 한개만 넣을 수 있는게 아닌 여러개도 가능하다.

```
def add_mul(choice, *number)
    if choice == "add":
        result = 0
        for i in number:
            result += i
    elif choice == "mul":
        result = 1
        for i in number:
            result *= i
    return result

```

이렇게 매개변수를 한개 추가해서 넣었다.  
이제 위에 함수를 사용해보자

```
result = add_mul('add', 1, 3, 5)
print(result)
9
result = add_mul('mul', 1, 3, 5)
print(result)
15
```

이렇게 매개변수에 add가 입력되면 모든수가 더해지도록 mul이 입력되면 모든수가 곱해지도록 만들었기에  
첫번째는 1, 3, 5를 모두 더한 값인 9가 두번째는 모두 곱한값인 15를 리턴해준다.

## 키워드 매개변수 kwargs

```
def print_kwargs(**kwargs):
    print(kwargs)
    
```
키워드 매개변수를 만들때에는 매개변수앞에 **를 붙여주면 된다.  
위에 함수는 입력받은 매개변수 kwargs를 출력하는 단순한 함수이다.
위에 함수를 사용해보자.

```
print_kwargs(c = 5)
{'c' : 5}
print_kwargs(name = 'dong', age = 29
{'name' : 'dong', 'age' : 29}

```

보면 딱 감이 올꺼다. 함수의 입력값을 c = 5 가 입력되면 {'c' : 5} 라는 딕셔너리를 만들어준다.  
다음도 마찬가지로 두개의 딕셔너리로 만들어주었다.  
즉 매개변수 앞에 **를 붙여 만들면 매개변수로 key=value 형태의 입력값을 넣으면 딕셔너리에 저장된다는 것을 알수 있다.

## 함수의 리턴값을 언제나 하나

```
def add_mul(a , d)
    return a + b, a * b
    
```

이렇게 함수를 만들었다 자 그럼 위의 함수를 사용해 리턴값을 받아보자

```
result = add_mul(2, 5)
print(result)
(7, 10)
```
자 이렇게 리턴값은 2개인데 변수를 하나만 써서 출력했다.  
어떤 사람은 오류가 날꺼란 생각을 할 수 있다.  
하지만 함수의 리턴값은 2개가 아닌 오직 1개다.
add_mul에 리턴값은 (a+b, a*b) 값으로 리턴된다.  

그러면 이 값을 두개로 분리하여 받고 싶다면?

```
result1, result2 = add_mul(2, 5)
print(result1)
7
print(result2)
10
```

이렇게 두개를 분리하여 리턴값을 받을 수 있다.

```
def add_mul(a , d)
    return a + b
    return a * b

```

이렇게 만든다면 리턴값을 분리해서 출력이 가능하지 않을까? 그런 생각을 할 수 있다.
한번 함수를 사용해보자.

```
result = add_mul(2, 5)
print(result)
7
```

값이 7만 출력 되었다.  
위에 리턴값만 출력된것을 알수 있다.  
이유는 함수는 return문을 만나는 순간 리턴값을 돌려주고 함수를 빠져나오기 때문에 아래의 리턴값을 출력이 되지 않는다.

> retrun의 다른 쓰임
> 특별한 상황에서 함수를 빠져 나가고 싶을때 return을 단독으로 사용해 함수를 즉시 빠져나갈 수 있다.
> ```
> def animal(name)
>     if name == "돼지'
>         return
>     print("내가 좋아 하는 동물은 %s 입니다." name)
> 
> animal("만타레이")
> 내가 좋아 하는 동물은 만타레이 입니다.
> animal("돼지)
> 
> ```
> 
> 위에 함수는 동물 이름을 전달받아 출력하는 함수이다. 함수의 리턴값은 없다.
> 만약 입력값으로 돼지를 입력하면 문자열을 출력하지 않고 함수를 즉시 빠져나가게 된다.

## 매개변수에 초기값 미리 설정

```
def say_myself(name, age, man=True):
    print("나의 이름은 %s 입니다." % name)
    print("나이는 %d살 입니다." % age)
    if man:
        print("남자입니다.")
    else:
        print("여자입니다.")

```

> say_myself 함수는 3개의 매개변수를 받아서 마지만 인수는 True면 남자입니다를 False면 여자입니다를 출력하는 함수이다.

이번엔 좀다른 매개변수에 초기값을 미리 설정하는 경우이다.  
마지막 인수를 보면 man=True 라는 매개변수에 미리 값을넣어 초기 값을 설정해 줬다.

say_myself 함수는 2가지 방법으로 사용 할 수 있다.

```
say_myself("임동현", 29)
나의 이름은 임동현 입니다.
나이는 29살 입니다.
남자입니다.

say_myself("임동현", 29, True)
나의 이름은 임동현 입니다.
나이는 29살 입니다.
남자입니다.
```
이렇게 앞에 두개의 입력값만 주더라도 이미 마지막 인수엔 초기값이 설정되어 있기에 같은 결과를 출력해준다.

그럼 초기값이 설정된 부분을 False로 바꿔서 출력해보자.

```
say_myself("김아무개", 24, False)
나의 이름은 김아무개 입니다.
나이는 24살 입니다.
여자입니다.
```

이렇게 False를 입력하면 여자입니다를 출력한다.

여기서 우리가 주의할 점!
```
def say_myself(name, man=True, age):
    print("나의 이름은 %s 입니다." % name)
    print("나이는 %d살 입니다." % age)
    if man:
        print("남자입니다.")
    else:
        print("여자입니다.")
```

이런 방식으로 초기값 설정한 위치를 바꾼다면 어떻게 될까?  
실행해보면 오류가 난다.  
초깃값이 없는 매개변수(age)는 초깃값이 있는 매개변수(man) 뒤에 사용할 수 없다.  
항상 초기화를 시키고 싶은 매개변수는 맨뒤에 놓아야 한다는 것을 잊지말자!

## 함수 안에서 선언한 변수의 효력범위

```
a = 1
def vartest(a):
    a += 1
vartest(a)
print(a)
1
```
함수안에서 사용할 변수를 함수 안에서도 같은 a로 설정을 했다.  
위에 함수를 만들어서 a변수에 1을 대입하고 변수로 들어와 결괏값은 리턴하지 않는 vartest 함수를 만들었다.  
그리고 vartest 함수에 입력값으로 a를 넣고 a값을 print(a)로 출력 했다.  
하지만 값은 2가 아닌 1이 출력 되었다.  
이를 통해서 알 수 있는건 함수 안에서 사용되는 매개변수는 함수안에서만 사용하는 함수만의 변수이기에 함수 밖의 변수와는 전혀 상관이 없다.

다른 예시를 한번더 보자

```
def vartest(a):
    a = a + 1

vartest(3)
print(a)

```

이렇게 만들어 실행해 보면 아직도 4가 나올꺼라는 생각을 하면 이해를 하지 못한 것이다.  
실행을 하면 오류가 발생하게 된다.  
함수안에서 a값은 4가 되지만 함수가 호출된 이후 print(a) 문장은 오류가 발생된다.  
아무리 찾아도 변수밖에는 a값이 없기 때문에 print(a)는 오류가 발생하게 되는것이다.  
이렇게 함수 안에서 선언한 매개변수는 함수안에서만 사용되고 함수 밖에서는 사용되지 않는다.

## 함수 안에서 함수 밖의 변수를 변경하는법
만약 함수 밖에서 변수를 바꾸고 싶다면 어떻게 해야 할까?  
두가지의 방법이 존재한다.

```
a = 1 
def test(a): 
    a = a +1 
    return a

a = test(a)
print(a)
```
첫번재 방법은 return 사용하는 방법이다.  
이러한 방식으로 return을 사용해 a = test(a) 라고 작성하면 test 함수의 리턴값이 대입된다.

```
a = 1 
def test(): 
    global a 
    a = a+1

test() 
print(a)
```

두번째 방법은 global 명령어를 사용하는 것이다.
위에 global a는 함수 밖의 변수를 그대로 사용하겠다는 말이다.
하지만 잘 사용하지 않는다. 함수는 독립적으로 존재하는 것이 좋기 때문에 그다지 좋은 함수가 아니게 된다.  
가급적이면 첫번째 방법을 사용하는것이 좋다.

## lambda (람다)
함수를 생성할때 쓰이는 예약어 같은 존재이고 이전 def와 동일한 역할을 한다.  
함수를 간결하게 한줄로 쓸때 사용되고 복잡하지 않거나 def를 사용할 수 없는곳에 주로 쓰인다.

```
add = lambda a, b: a+b
result = add(5, 7)
print(result)
12
```
이러한 방식으로 사용된다.
> 함수명 = lambda 매개변수1, 매개변수2, ... : 매개변수를 이용한 표현식

lambda로 만든 함수는 return 명령어가 없어도 표현식의 결괏값을 리턴한다.

위에 람다를 사용한 함수를 이전 def로 만들어 본다면 아래와 같다.

```
def add(a, b):
    return a+b

result = add(5, 7)
print(result)
12
```





이 포스팅은 점프투 파이썬을 보고 정리한 자료입니다.
